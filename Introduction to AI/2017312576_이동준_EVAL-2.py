# -*- coding: utf-8 -*-
"""2017312576_이동준_EVAL.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/195Z31NdgXPflnEury6UTKaULOas_z66l
"""

import json
from sklearn.metrics import confusion_matrix, precision_score, recall_score, f1_score, accuracy_score

with open('./Evaluation.json') as json_file:
  json_data = json.load(json_file)


predict = json_data['predict']
label = json_data['label']

conf_mat =  confusion_matrix(label,predict)
acc = ((accuracy_score(label, predict)*100)//0.0001)*0.0001

macro_precision = ((precision_score(label,predict,average='macro')*100)//0.0001)*0.0001
micro_precision = ((precision_score(label,predict,average='micro')*100)//0.0001)*0.0001

macro_recall = ((recall_score(label,predict,average='macro')*100)//0.0001)*0.0001
micro_recall = ((recall_score(label,predict,average='micro')*100)//0.0001)*0.0001

macro_f1 = ((f1_score(label,predict,average='macro')*100)//0.0001)*0.0001
micro_f1 = ((f1_score(label,predict,average='micro')*100)//0.0001)*0.0001



fw = open("./2017312576_이동준_EVAL.txt",'w',encoding='UTF-8')
fw.write("Confusion matrix\n")
fw.write(str(conf_mat[0][0])+"\t"+str(conf_mat[0][1])+"\t"+str(conf_mat[0][2])+"\n")
fw.write(str(conf_mat[1][0])+"\t"+str(conf_mat[1][1])+"\t"+str(conf_mat[1][2])+"\n")
fw.write(str(conf_mat[2][0])+"\t"+str(conf_mat[2][1])+"\t"+str(conf_mat[2][2])+"\n\n")

fw.write("Accuracy : "+str(acc)+"%\n\n")
fw.write("Macro averaging precision : "+str(macro_precision)[:7]+"%\n")
fw.write("Micro averaging precision : "+str(micro_precision)[:7]+"%\n\n")
fw.write("Macro averaging recall : "+str(macro_recall)[:7]+"%\n")
fw.write("Micro averaging recall : "+str(micro_recall)[:7]+"%\n\n")
fw.write("Macro averaging f1-score : "+str(macro_f1)[:7]+"%\n")
fw.write("Micro averaging f1-score : "+str(micro_f1)[:7]+"%")

fw.close()

float('0.421')*2

